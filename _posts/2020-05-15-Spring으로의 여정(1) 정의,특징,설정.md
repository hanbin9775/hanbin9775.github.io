---
layout: post
author: Joel
tag : back
---

Spring 정의, 특징, 설정
======================

<br>
<br>
> 이 글은 '부스트코스'의 강의 내용의 흐름을 따라가며 작성했음을 미리 밝힙니다.

<br>
<br>

Spring...

백엔드 개발자 채용 공고의 지원 자격란에 항상 보이는 프레임워크.

우리나라에서는 백엔드 개발자의 최소한의 교양 같은 건가 싶다.

이제부터 Spring에 대해 알아보도록 할 것이다.

이 과정은 엄청난 여정이 될 것이다.

포스팅은 욕심부리지 않고 나눠서 꾸준히 작성해야겠다.

<br>
<br>
<br>
## Spring Framework?
<br>
<br>

> Spring Framework는 종합적인 프로그래밍과 자바 기반의 현대 엔터프라이즈 어플리케이션의 Configuration Model을 제공한다. -Spring framework 공식 홈페이지

<br>
<br>
음 아직은 마음에 와 닿지 않는다.

더 공부해보자.

<br>
<br>
## Spring framework 특징
<br>
<br>
그렇다면 Spring의 대표적인 특징을 알아보고 간단하게 이해해보자.
<br>
<br>
### 1. 컨테이너
<br>
컨테이너는 인스턴스의 생명주기를 관리하며, 생성된 인스턴스에게 추가적인 기능을 제공한다. 

예를 들어, 우리가 Servlet 클래스를 사용할 때 정의는 직접하더라도 Servlet 클래스를 인스턴스화 하는 과정은 직접하지 않는다. 이는 Tomcat이 대신 해주는데, 이 Tomcat(WAS)는 Servlet 컨테이너를 가지고 있다고 말할 수 있는 것이다.

<strong>간단하게 Spring은 특정 인스턴스의 생명주기 관리와 추가적인 기능을 제공할 수 있다고 이해하고 넘어가자.</strong>

<br>
### 2. Ioc
<br>
Inversion of Control의 약어이다. 직역하자면 제어의 역전인데 이는 개발자가 프로그램 흐름을 제어하는 것에서 컨테이너가 프로그램의 흐름을 제어하는 것으로 역전이 일어난다는 뜻이다. 

예를 들어, Servlet 클래스는 개발자가 만들지만, 그 서블릿의 메소드를 알맞게 호출하는 것은 WAS이다. 

<strong>Spring은 특정 클래스나 메소드를 개발자 대신 실행해준다.</strong>

<br>
### 3. DI
<br>
Dependecy Injection의 약자이다. 의존성 주입이라는 뜻이며 클래스 사이의 의존 관계를 빈(Bean) 설정 정보를 바탕으로 컨테이너가 자동으로 연결해주는 것을 말한다. 

의존성 주입이라는 말이 와닿지 않는다. 예시를 살펴보자.

<br>
<br>
![Alt text](../../../assets/img/2020-05-15/DIcompare.jpg){: width="70%" height="70%"}
<br>
<br>

<strong>그니깐 class 엔진이 Bean 클래스이고 이 클래스 정보를 바탕으로 @Component, @Autowired 따위의 어노테이션을 해주면 spring이 인스턴스를 알아서 할당해준다. 그리고 이 작업을 의존성 주입이라고 부른다.</strong>

간단하게만 이해한답시고 새로운 용어에 대한 설명도 안하고 넘어갔지만 이는 후에 많이 다루게 될테니 일단은 넘어가도록 하자. 

<br>
<br>
<br>
## 설정
<br>
그러면 직접 Spring을 써보도록 하자!

당연하게도 Spring은 framework다. 그러니깐 훌륭하신 개발자분들이 미리 만들어 놓은걸 쓰는 것이기 때문에 만들어 놓으신 것들을 우리의 개발 환경으로 가져올 필요가 있다. 

환경 설정 과정은 킹갓부스트코스에서 잘 설명되어있으니 링크를 첨부하겠다.
<br>
<br>
<br>
[부스트코스-xml파일을 이용한 설정][link]

[link]: https://www.edwith.org/boostcourse-web/lecture/20657/

<br>
<br>
Spring을 사용하기 위한 설정 과정 흐름을 간단하게 소개하자면, (통합 개발 환경 : eclipse)
<br>
<br>
1. Maven Project 만들기
2. pom.xml 파일에 JDK를 사용하기 위한 플러그인 설정 추가.
3. pom.xml 파일에 spring 라이브러리를 사용함을 명시. 참고로 spring 라이브러리는 목적에 따라 종류가 굉장히 많은데 여기서는 spring-context를 사용했다.  

<br>
<br>
더 나아가 Bean 클래스를 생성하고 이 클래스에 DI를 적용하기 위해서..
<br>
<br>
아 참, 참고로 Bean 클래스란 일반적인 Java 클래스라고 이해하면 된다.
<br>
<br>
Bean 클래스는 다음과 같은 특징을 갖는다.

1. 기본 생성자를 갖는다.
2. 필드는 private하게 선언한다.
3. getter, setter 메소드를 가진다.
4. getName(), setName() 메소드를 name 프로퍼티라고 한다.

<br>
<br>
다시 Bean 클래스의 DI 주입 과정으로 돌아와서..
<br>

1. root/src/main/java/UserBean.java 생성 (Bean 클래스 생성)
2. root/src/resources/applicationContext.xml 파일 생성. 
3. 위 파일에 bean 태그 입력.
<br>
<br>
applicationContext.xml 예시

```
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans 
        http://www.springframework.org/schema/beans/spring-beans.xsd">
	<bean id="userBean" class="kr.or.connect.diexam01.UserBean"></bean>
</beans>
```
<br>
위 태그는 다음과 같은 의미를 가진다.
UserBean userBean - new UserBean(); 
즉, 의존성 주입을 하는 태그이다.

4. ApplicationContext를 이용해서 설정파일을 읽어들여 실행하기

<br>
<br>
ApplicationContextExam01.java 예시

```
package kr.or.connect.diexam01;

import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;

public class ApplicationContextExam01 {

	public static void main(String[] args) {
		ApplicationContext ac = new ClassPathXmlApplicationContext( 
				"classpath:applicationContext.xml"); 
		System.out.println("초기화 완료.");
		
		UserBean userBean = (UserBean)ac.getBean("userBean");
		userBean.setName("kim");
		System.out.println(userBean.getName());
		
		UserBean userBean2 = (UserBean)ac.getBean("userBean");
		if(userBean == userBean2) {
			System.out.println("같은 인스턴스이다.");
		}
	}
}
```

<br>
<br>
이제 UserBean 클래스는 의존성 주입이 되어 우리가 직접 인스턴스 할당을 하지 않아도 사용할 수 있게 되었다!
<br>
<br>



..사실 이쯤되면 그냥 직접 new 써서 할당하는게 훨씬 나을거 같다는 생각이 들기도 한다. 하지만 이제 막 Spring에 혀 끝을 대 본 것이다. Spring을 더 핧아보기도 하고 잘라서 속 알맹이도 먹어봐야 비로서 Spring을 이해할 수 있을 것이다. 그때까지 배움에 정진하도록 하자. 

<br>
<br>
![Alt text](../../../assets/img/2020-05-15/tipintongue.jpg){: width="70%" height="70%"}
<br>
<br>
<br>
### 출처 및 참고

<https://opentutorials.org/course/2428/13594>

<https://www.edwith.org/boostcourse-web/lecture/20656/>

<https://www.edwith.org/boostcourse-web/lecture/20657/>